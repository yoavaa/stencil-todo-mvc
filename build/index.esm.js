import{s as t,u as i}from"./p-052c23d4.js";class s{constructor(i){this.key=i,this.todos=t(i),this.onChanges=[]}subscribe(t){this.onChanges.push(t)}inform(){t(this.key,this.todos),this.onChanges.forEach((function(t){t()}))}addTodo(t){this.todos=this.todos.concat({id:i(),title:t,completed:!1}),this.inform()}toggleAll(t){this.todos=this.todos.map((function(i){return Object.assign(Object.assign({},i),{completed:t})})),this.inform()}toggle(t){this.todos=this.todos.map((function(i){return i.id!==t?i:Object.assign(Object.assign({},i),{completed:!i.completed})})),this.inform()}destroy(t){this.todos=this.todos.filter((function(i){return i.id!==t})),this.inform()}save(t,i){this.todos=this.todos.map((function(s){return s.id!==t?s:Object.assign(Object.assign({},s),{title:i})})),this.inform()}clearCompleted(){this.todos=this.todos.filter((function(t){return!t.completed})),this.inform()}}export{s as TodoModelImpl}